<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galeri Momen - TiaBakery</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,300;9..144,600;9..144,800&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">

    <style>
        /* --- STYLE DASAR (KONSISTEN) --- */
        :root {
            --bg-white: #FFFFFF; --bg-warm: #FFFBF2; --text-dark: #3E2723; --text-light: #795548;
            --red: #FF5252; --yellow: #FFD740; --yellow-soft: #FFF9C4; --green: #69F0AE; --blue: #448AFF;
            --container-width: 1200px;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; scroll-behavior: smooth; }
        body { background-color: var(--bg-white); color: var(--text-dark); font-family: 'Montserrat', sans-serif; overflow-x: hidden; width: 100%; }
        h1, h2, h3, h4 { font-family: 'Fraunces', serif; color: var(--text-dark); }
        a { text-decoration: none; color: inherit; transition: 0.3s; }
        .container { max-width: var(--container-width); margin: 0 auto; padding: 0 20px; }

        /* NAVBAR (SAMA DENGAN PRODUCT.HTML) */
        nav { background: rgba(255, 255, 255, 0.95); padding: 12px 0; position: sticky; top: 0; z-index: 1000; backdrop-filter: blur(10px); border-bottom: 1px solid rgba(0,0,0,0.05); }
        .nav-wrapper { display: flex; justify-content: space-between; align-items: center; position: relative; }
        .nav-logo { font-family: 'Fraunces', serif; font-size: 1.6rem; font-weight: 800; color: var(--text-dark); letter-spacing: -1px; z-index: 1001;}
        .nav-menu { display: flex; gap: 25px; align-items: center; }
        .nav-menu a { font-weight: 600; font-size: 0.9rem; text-transform: uppercase; color: var(--text-dark); cursor: pointer; }
        .nav-menu a:hover { color: var(--red); }
        .nav-icons { display: flex; gap: 15px; align-items: center; z-index: 1001; }
        .nav-icon-btn { width: 40px; height: 40px; border-radius: 50%; background: white; border: 1px solid #eee; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; color: var(--text-dark); cursor: pointer; position: relative; }
        .nav-icon-btn:hover { background: var(--text-dark); color: white; border-color: var(--text-dark); }
        .btn-nav-wa { background: #25D366; color: white; padding: 8px 20px; border-radius: 50px; font-weight: 700; font-size: 0.85rem; display: flex; align-items: center; gap: 5px; box-shadow: 0 4px 10px rgba(37, 211, 102, 0.2); }
        .btn-nav-wa:hover { background: #1ebc57; transform: translateY(-1px); }
        .hamburger-btn { display: none; font-size: 1.8rem; color: var(--text-dark); cursor: pointer; z-index: 1001; }

        /* MOBILE MENU & OVERLAYS */
        .menu-overlay-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 998; opacity: 0; visibility: hidden; transition: 0.3s; }
        .menu-overlay-bg.active { opacity: 1; visibility: visible; }
        .mobile-menu-dropdown { position: fixed; top: 0; left: 0; width: 100%; height: auto; padding-top: 80px; padding-bottom: 40px; background: white; z-index: 999; border-bottom-left-radius: 30px; border-bottom-right-radius: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); flex-direction: column; align-items: center; justify-content: center; gap: 25px; transform: translateY(-100%); transition: transform 0.4s cubic-bezier(0.77, 0, 0.175, 1); display: flex; }
        .mobile-menu-dropdown.active { transform: translateY(0); }
        .mobile-link { font-family: 'Fraunces', serif; font-size: 1.3rem; font-weight: 700; color: var(--text-dark); }
        .mobile-btn-wa { background: #25D366; color: white; padding: 12px 35px; border-radius: 50px; font-weight: 700; font-size: 1rem; display: flex; align-items: center; gap: 10px; box-shadow: 0 10px 20px rgba(37, 211, 102, 0.3); margin-top: 10px; }
        #cart-count { position: absolute; top: -5px; right: -5px; background: var(--red); color: white; font-size: 0.7rem; font-weight: bold; width: 18px; height: 18px; border-radius: 50%; display: flex; align-items: center; justify-content: center; opacity: 0; transition: 0.3s; }
        #cart-count.show { opacity: 1; }

        /* CART SIDEBAR */
        .cart-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 2000; display: none; opacity: 0; transition: 0.3s; }
        .cart-overlay.active { display: block; opacity: 1; }
        .cart-sidebar { position: fixed; top: 0; right: -400px; width: 350px; height: 100%; background: white; z-index: 2001; padding: 25px; box-shadow: -5px 0 30px rgba(0,0,0,0.1); transition: 0.4s; display: flex; flex-direction: column; }
        .cart-sidebar.active { right: 0; }
        .cart-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; padding-bottom: 20px; margin-bottom: 20px; }
        .cart-items-container { flex: 1; overflow-y: auto; }
        .cart-footer { border-top: 1px solid #eee; padding-top: 25px; margin-top: auto; }
        .btn-checkout { width: 100%; padding: 16px; background: var(--text-dark); color: white; border: none; border-radius: 50px; font-weight: 700; cursor: pointer; display: flex; justify-content: center; gap: 10px; font-size: 1rem; transition: 0.3s; margin-top: 10px; }

        /* --- GALLERY SPECIFIC STYLES --- */
        
        /* 1. HERO GALLERY */
        .gallery-hero {
            padding: 80px 0 40px; text-align: center;
            background: var(--bg-warm);
        }
        .gallery-hero h1 { font-size: 4rem; margin-bottom: 15px; }
        .gallery-hero p { max-width: 500px; margin: 0 auto; color: var(--text-light); }

        /* 2. FILTER TABS */
        .filter-wrapper {
            position: sticky; top: 75px; z-index: 900; 
            background: rgba(255,255,255,0.9); backdrop-filter: blur(10px);
            padding: 15px 0; border-bottom: 1px solid #eee; margin-bottom: 40px;
        }
        .tabs { display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; }
        .tab-btn { 
            padding: 10px 25px; border: 1px solid #ddd; border-radius: 50px; 
            background: white; cursor: pointer; font-family: 'Montserrat'; font-weight: 600; 
            transition: 0.3s; font-size: 0.9rem;
        }
        .tab-btn.active, .tab-btn:hover { 
            background: var(--text-dark); border-color: var(--text-dark); color: var(--yellow); 
        }

        /* 3. FORCED LANDSCAPE GRID (UBAH DARI MASONRY KE GRID) */
        .masonry-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr); /* 3 Kolom Grid */
            gap: 20px; /* Jarak antar grid */
            padding-bottom: 50px;
        }
        
        .masonry-item {
            /* Hapus break-inside dan margin-bottom yang lama */
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
            background: #eee;
            /* INI KUNCINYA: Memaksa rasio 16:9 (Landscape) */
            aspect-ratio: 16 / 9; 
        }
        .masonry-item:hover { transform: translateY(-5px); }
        
        .masonry-item img {
            width: 100%; 
            height: 100%; /* Paksa tinggi mengisi container */
            object-fit: cover; /* Crop gambar agar tidak gepeng */
            display: block;
            border-radius: 20px;
            transition: 0.5s;
        }
        .masonry-item:hover img { transform: scale(1.05); }

        /* Overlay Effect on Hover */
        .m-overlay {
            position: absolute; inset: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
            opacity: 0; transition: 0.3s;
            display: flex; flex-direction: column; justify-content: flex-end;
            padding: 20px; color: white;
        }
        .masonry-item:hover .m-overlay { opacity: 1; }
        .m-title { font-family: 'Fraunces'; font-size: 1.2rem; margin-bottom: 5px; transform: translateY(20px); transition: 0.3s; }
        .m-desc { font-size: 0.85rem; font-weight: 300; transform: translateY(20px); transition: 0.3s; transition-delay: 0.1s; }
        .masonry-item:hover .m-title, .masonry-item:hover .m-desc { transform: translateY(0); }

        /* 4. INFINITE FILMSTRIP */
        .filmstrip-section {
            background: var(--text-dark); color: white;
            padding: 60px 0; overflow: hidden;
            position: relative;
        }
        .filmstrip-title {
            text-align: center; margin-bottom: 40px; font-size: 2rem; color: var(--yellow);
        }
        .filmstrip-track {
            display: flex; gap: 20px; width: max-content;
            animation: scroll-left 30s linear infinite;
        }
        .film-item {
            width: 300px; height: 200px; flex-shrink: 0;
            border-radius: 10px; overflow: hidden; border: 4px solid rgba(255,255,255,0.1);
        }
        .film-item img { width: 100%; height: 100%; object-fit: cover; }
        @keyframes scroll-left { to { transform: translateX(-50%); } }

        /* 5. LIGHTBOX */
        .lightbox {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 5000;
            display: none; align-items: center; justify-content: center;
            opacity: 0; transition: 0.3s; padding: 20px;
        }
        .lightbox.active { display: flex; opacity: 1; }
        .lightbox-img {
            max-width: 90%; max-height: 85vh; border-radius: 10px;
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
            transform: scale(0.8); transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .lightbox.active .lightbox-img { transform: scale(1); }
        .lightbox-close {
            position: absolute; top: 30px; right: 30px;
            color: white; font-size: 2rem; cursor: pointer;
        }
        .lightbox-caption {
            position: absolute; bottom: 30px; color: white; font-family: 'Fraunces'; font-size: 1.5rem;
        }

        /* FOOTER & UTILS */
        footer { background: white; padding: 80px 0 30px; border-top: 1px solid #eee; }
        .footer-grid { display: grid; grid-template-columns: 1.5fr 1fr 1fr 1fr; gap: 60px; margin-bottom: 60px; }
        .footer-col h4 { margin-bottom: 25px; font-size: 1.1rem; }
        .footer-col ul { list-style: none; } .footer-col ul li { margin-bottom: 12px; color: var(--text-light); font-size: 0.95rem; }
        .social-icons a { width: 45px; height: 45px; background: #f5f5f5; display: inline-flex; align-items: center; justify-content: center; border-radius: 50%; margin-right: 12px; transition: 0.3s; font-size: 1.2rem; color: var(--text-dark); text-decoration: none;}
        .social-icons a:hover { background: var(--text-dark); color: white; }
        .wa-float { position: fixed; bottom: 30px; right: 30px; background: #25D366; color: white; width: 65px; height: 65px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2rem; box-shadow: 0 10px 30px rgba(0,0,0,0.2); z-index: 999; transition: 0.3s; }
        .wa-float:hover { transform: scale(1.1); }
        .back-to-top { position: fixed; bottom: 110px; right: 38px; width: 50px; height: 50px; background: var(--text-dark); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; box-shadow: 0 4px 15px rgba(0,0,0,0.2); z-index: 998; opacity: 0; visibility: hidden; transition: 0.3s; text-decoration: none; cursor: pointer; }
        .back-to-top.show { opacity: 1; visibility: visible; transform: translateY(0); }
        .back-to-top:hover { background: var(--red); transform: translateY(-3px); }

        @media (max-width: 900px) {
            .nav-menu, .btn-nav-wa { display: none; }
            .hamburger-btn { display: block; }
            .cart-sidebar { width: 100%; right: -100%; } .cart-sidebar.active { right: 0; }
            
            /* Mobile Grid -> 1 Kolom */
            .masonry-container { grid-template-columns: 1fr; }
            
            /* Mobile Filmstrip */
            .film-item { width: 200px; height: 150px; }
            
            /* Navbar & Footer */
            .footer-grid { grid-template-columns: 1fr; gap: 30px; }
            .filter-wrapper { position: static; overflow-x: auto; white-space: nowrap; padding-left: 20px; }
            .tabs { display: inline-flex; }
        }
    </style>
</head>
<body>

    <div class="menu-overlay-bg" id="menuOverlay" onclick="toggleMobileMenu()"></div>
    <a href="#" class="back-to-top" id="backToTop"><i class="ri-arrow-up-line"></i></a>

    <nav>
        <div class="container nav-wrapper">
            <a href="index.html" class="nav-logo">TiaBakery.</a>
            <div class="nav-menu">
                <a href="about.html">Tentang Kami</a>
                <a href="product.html">Produk</a>
                <a href="gallery.html" style="color: var(--red);">Gallery</a>
                <a href="#">Blog</a>
            </div>
            <div class="nav-icons">
                <div class="nav-icon-btn" onclick="toggleCart()">
                    <i class="ri-shopping-bag-3-line"></i>
                    <span id="cart-count">0</span>
                </div>
                <a href="https://wa.me/62895639068080" target="_blank" class="btn-nav-wa"><i class="ri-whatsapp-line"></i> Kontak</a>
                <div class="hamburger-btn" onclick="toggleMobileMenu()"><i class="ri-menu-3-line"></i></div>
            </div>
        </div>
    </nav>

    <div class="mobile-menu-dropdown" id="mobileMenu">
        <a href="about.html" class="mobile-link">Tentang Kami</a>
        <a href="product.html" class="mobile-link">Produk</a>
        <a href="gallery.html" class="mobile-link">Gallery</a>
        <a href="#" class="mobile-link">Blog</a>
        <a href="https://wa.me/62895639068080" target="_blank" class="mobile-btn-wa"><i class="ri-whatsapp-line"></i> Kontak WhatsApp</a>
    </div>

    <div class="cart-overlay" onclick="toggleCart()"></div>
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header"><h3>Keranjang Saya</h3><span onclick="toggleCart()" style="cursor: pointer; font-size: 1.5rem;">&times;</span></div>
        <div id="cart-items" class="cart-items-container"><p style="text-align: center; color: #999; margin-top: 50px;">Keranjang masih kosong.</p></div>
        <div class="cart-footer">
            <button class="btn-checkout" onclick="window.location.href='product.html'">Belanja Sekarang</button>
        </div>
    </div>

    <header class="gallery-hero">
        <div class="container">
            <h1>Visual <span style="font-style: italic; color: var(--red);">Rasa.</span></h1>
            <p>Kumpulan momen manis dari dapur kami, acara spesial pelanggan, hingga proses pembuatan di balik layar.</p>
        </div>
    </header>

    <div class="filter-wrapper">
        <div class="container">
            <div class="tabs">
                <button class="tab-btn active" onclick="filterGallery('all', this)">Semua Momen</button>
                <button class="tab-btn" onclick="filterGallery('product', this)">Karya Roti</button>
                <button class="tab-btn" onclick="filterGallery('kitchen', this)">Dapur Kami</button>
                <button class="tab-btn" onclick="filterGallery('event', this)">Keceriaan Pelanggan</button>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="masonry-container" id="galleryGrid">
            
            <div class="masonry-item" data-category="product" onclick="openLightbox(this)">
                <img src="https://images.unsplash.com/photo-1555507036-ab1f4038808a?w=600&q=80" alt="Roti Fresh">
                <div class="m-overlay">
                    <div class="m-title">Fresh Sourdough</div>
                    <div class="m-desc">Dipanggang setiap pagi jam 5.</div>
                </div>
            </div>

            <div class="masonry-item" data-category="kitchen" onclick="openLightbox(this)">
                <img src="https://images.unsplash.com/photo-1583338917451-face2751d8d5?w=600&q=80" alt="Chef">
                <div class="m-overlay">
                    <div class="m-title">Chef at Work</div>
                    <div class="m-desc">Ketelitian dalam setiap detail.</div>
                </div>
            </div>

            <div class="masonry-item" data-category="product" onclick="openLightbox(this)">
                <img src="https://images.unsplash.com/photo-1621303837174-89787a7d4729?w=600&q=80" alt="Cupcake">
                <div class="m-overlay">
                    <div class="m-title">Sweet Cupcakes</div>
                    <div class="m-desc">Manisnya pas untuk teman ngopi.</div>
                </div>
            </div>

            <div class="masonry-item" data-category="event" onclick="openLightbox(this)">
                <img src="https://images.unsplash.com/photo-1530103862676-de3c9a59af38?w=600&q=80" alt="Party">
                <div class="m-overlay">
                    <div class="m-title">Ulang Tahun Budi</div>
                    <div class="m-desc">Terima kasih telah merayakan bersama kami!</div>
                </div>
            </div>

            <div class="masonry-item" data-category="kitchen" onclick="openLightbox(this)">
                <img src="https://images.unsplash.com/photo-1507612238538-4ef2d1094d40?w=600&q=80" alt="Flour">
                <div class="m-overlay">
                    <div class="m-title">Bahan Premium</div>
                    <div class="m-desc">Hanya tepung terbaik yang kami gunakan.</div>
                </div>
            </div>

            <div class="masonry-item" data-category="product" onclick="openLightbox(this)">
                <img src="https://images.unsplash.com/photo-1608198093002-ad4e005484ec?w=600&q=80" alt="Choco Lava">
                <div class="m-overlay">
                    <div class="m-title">Choco Lava Melt</div>
                    <div class="m-desc">Lumer di mulut!</div>
                </div>
            </div>

            <div class="masonry-item" data-category="event" onclick="openLightbox(this)">
                <img src="https://images.unsplash.com/photo-1519340333755-56e9c1d04579?w=600&q=80" alt="Wedding">
                <div class="m-overlay">
                    <div class="m-title">Wedding Hampers</div>
                    <div class="m-desc">Pesanan khusus 500 box.</div>
                </div>
            </div>

             <div class="masonry-item" data-category="product" onclick="openLightbox(this)">
                <img src="https://images.unsplash.com/photo-1509440159596-0249088772ff?w=600&q=80" alt="Bread">
                <div class="m-overlay">
                    <div class="m-title">Roti Sisir</div>
                    <div class="m-desc">Klasik dan favorit semua umur.</div>
                </div>
            </div>

        </div>
    </div>

    <section class="filmstrip-section">
        <h2 class="filmstrip-title">Behind The Scenes</h2>
        <div class="filmstrip-track">
            <div class="film-item"><img src="https://images.unsplash.com/photo-1556910103-1c02745a30bf?w=400"></div>
            <div class="film-item"><img src="https://images.unsplash.com/photo-1605256585681-455837661b18?w=400"></div>
            <div class="film-item"><img src="https://images.unsplash.com/photo-1589367920969-ab8e965a32a2?w=400"></div>
            <div class="film-item"><img src="https://images.unsplash.com/photo-1615837136007-701de6016145?w=400"></div>
            <div class="film-item"><img src="https://images.unsplash.com/photo-1517433670267-08bbd4be890f?w=400"></div>
            <div class="film-item"><img src="https://images.unsplash.com/photo-1609355110903-7cb7283995eb?w=400"></div>
            <div class="film-item"><img src="https://images.unsplash.com/photo-1556910103-1c02745a30bf?w=400"></div>
            <div class="film-item"><img src="https://images.unsplash.com/photo-1605256585681-455837661b18?w=400"></div>
            <div class="film-item"><img src="https://images.unsplash.com/photo-1589367920969-ab8e965a32a2?w=400"></div>
            <div class="film-item"><img src="https://images.unsplash.com/photo-1615837136007-701de6016145?w=400"></div>
        </div>
    </section>

    <div class="lightbox" id="lightbox" onclick="closeLightbox()">
        <div class="lightbox-close" onclick="closeLightbox()">&times;</div>
        <img src="" alt="Zoom" class="lightbox-img" id="lightboxImg">
        <div class="lightbox-caption" id="lightboxCaption">Judul Foto</div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col"><h3 class="nav-logo" style="margin-bottom: 20px;">TiaBakery.</h3><p style="color: #666; line-height: 1.6; max-width: 250px;">Bakery modern dengan cita rasa autentik.</p></div>
                <div class="footer-col"><h4>Eksplorasi</h4><ul><li><a href="about.html">Tentang Kami</a></li><li><a href="product.html">Produk</a></li><li><a href="#">Gallery</a></li></ul></div>
                <div class="footer-col"><h4>Kontak</h4><ul><li>Jl. Bakery No. 88, Jakarta</li><li>hello@tiabakery.com</li></ul></div>
                <div class="footer-col"><h4>Ikuti Kami</h4><div class="social-icons"><a href="#"><i class="ri-instagram-line"></i></a><a href="#"><i class="ri-tiktok-fill"></i></a><a href="#"><i class="ri-facebook-fill"></i></a></div></div>
            </div>
            <div style="text-align: center; font-size: 0.9rem; color: #999; border-top: 1px solid #eee; padding-top: 20px;">&copy; 2024 TiaBakery. Dibuat dengan cinta.</div>
        </div>
    </footer>

    <a href="https://wa.me/62895639068080" target="_blank" class="wa-float"><i class="ri-whatsapp-line"></i></a>
    <a href="#" class="back-to-top" id="backToTop"><i class="ri-arrow-up-line"></i></a>

    <script>
        // Toggle UI
        function toggleCart() {
            document.querySelector('.cart-overlay').classList.toggle('active');
            document.getElementById('cartSidebar').classList.toggle('active');
        }
        function toggleMobileMenu() {
            document.getElementById('mobileMenu').classList.toggle('active');
            document.getElementById('menuOverlay').classList.toggle('active');
        }

        // Back to Top
        const backToTopBtn = document.getElementById('backToTop');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) backToTopBtn.classList.add('show');
            else backToTopBtn.classList.remove('show');
        });
        backToTopBtn.addEventListener('click', (e) => {
            e.preventDefault();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Filter Logic
        function filterGallery(category, btn) {
            // Active Tab
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            // Filter Items
            const items = document.querySelectorAll('.masonry-item');
            items.forEach(item => {
                const cat = item.getAttribute('data-category');
                if (category === 'all' || category === cat) {
                    item.style.display = 'block';
                    // Trigger animation reset
                    item.style.opacity = '0';
                    item.style.transform = 'translateY(20px)';
                    setTimeout(() => {
                        item.style.opacity = '1';
                        item.style.transform = 'translateY(0)';
                    }, 100);
                } else {
                    item.style.display = 'none';
                }
            });
        }

        // Lightbox Logic
        function openLightbox(element) {
            const imgSrc = element.querySelector('img').src;
            const title = element.querySelector('.m-title').innerText;
            
            document.getElementById('lightboxImg').src = imgSrc;
            document.getElementById('lightboxCaption').innerText = title;
            document.getElementById('lightbox').classList.add('active');
        }

        function closeLightbox() {
            document.getElementById('lightbox').classList.remove('active');
        }
    </script>

</body>
</html>